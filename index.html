<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="MD360Player4Android : It is a lite library to render 360 degree panorama video for Android. VR Player.">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>MD360Player4Android</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/ashqal/MD360Player4Android">View on GitHub</a>

          <h1 id="project_title">MD360Player4Android</h1>
          <h2 id="project_tagline">It is a lite library to render 360 degree panorama video for Android. VR Player.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/ashqal/MD360Player4Android/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/ashqal/MD360Player4Android/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="md360player4android" class="anchor" href="#md360player4android" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MD360Player4Android</h1>

<p>It is a lite library to render 360 degree panorama video for Android.
<a href="https://jitpack.io/#ashqal/MD360Player4Android"><img src="https://jitpack.io/v/ashqal/MD360Player4Android.svg" alt=""></a></p>

<h2>
<a id="preview" class="anchor" href="#preview" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Preview</h2>

<p><img src="https://github.com/ashqal/MD360Player4Android/raw/master/app/demo/preview.jpg" alt="ScreenShot">
<img src="https://github.com/ashqal/MD360Player4Android/raw/master/app/demo/preview1.jpg" alt="ScreenShot">
<img src="https://github.com/ashqal/MD360Player4Android/raw/master/app/demo/preview2.jpg" alt="ScreenShot"></p>

<h2>
<a id="notice" class="anchor" href="#notice" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>NOTICE</h2>

<ul>
<li>OpenGLES 2.0 required</li>
<li>Android 4.0.3 (Ice Cream Sandwich  API-15) required</li>
<li>Compatible with all Players which have <code>setSurface</code> api.</li>
<li>This library do nothing but render the image of video frame, so you may deal with the issues about <code>MediaPlayer</code> or <code>IjkMediaPlayer</code> (e.g. play local file, rtmp, hls) by yourself;</li>
<li>这个库只负责视频帧画面的渲染，所有的视频文件播放、控制的工作都交给了<code>MediaPlayer</code>或者<code>IjkMediaPlayer</code>，你可能需要自己处理使用Player过程中出现的问题(比如播放本地文件、rtmp、hls).</li>
</ul>

<h2>
<a id="last-commit" class="anchor" href="#last-commit" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Last Commit</h2>

<p><strong><code>-SNAPSHOT</code></strong></p>

<h2>
<a id="release-note" class="anchor" href="#release-note" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Release Note</h2>

<p><strong>2.0.1.beta</strong></p>

<ul>
<li>bug fix.</li>
<li>add anti-distortion support.</li>
</ul>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// init configuation</span>
<span class="pl-k">protected</span> <span class="pl-smi">MDVRLibrary</span> createVRLibrary() {
    <span class="pl-k">return</span> <span class="pl-smi">MDVRLibrary</span><span class="pl-k">.</span>with(<span class="pl-v">this</span>)
            <span class="pl-c1">...</span>
            .barrelDistortionConfig(<span class="pl-k">new</span> <span class="pl-smi">BarrelDistortionConfig</span>()<span class="pl-k">.</span>setDefaultEnabled(<span class="pl-c1">true</span>)<span class="pl-k">.</span>setScale(<span class="pl-c1">0.95f</span>))
            .build(<span class="pl-smi">R</span><span class="pl-k">.</span>id<span class="pl-k">.</span>gl_view);
}</pre></div>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// setter</span>
mVRLibrary<span class="pl-k">.</span>setAntiDistortionEnabled(<span class="pl-c1">true</span>);</pre></div>

<ul>
<li>hotspot support.</li>
</ul>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// add hotspot dynamicly.</span>
findViewById(<span class="pl-smi">R</span><span class="pl-k">.</span>id<span class="pl-k">.</span>button_add_plugin_logo)<span class="pl-k">.</span>setOnClickListener(<span class="pl-k">new</span> <span class="pl-smi">View</span>.<span class="pl-smi">OnClickListener</span>() {
    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onClick</span>(<span class="pl-smi">View</span> <span class="pl-v">v</span>) {
        <span class="pl-k">private</span> <span class="pl-smi">MDPosition</span> logoPosition <span class="pl-k">=</span> <span class="pl-smi">MDPosition</span><span class="pl-k">.</span>newInstance()<span class="pl-k">.</span>setY(<span class="pl-k">-</span><span class="pl-c1">8.0f</span>)<span class="pl-k">.</span>setYaw(<span class="pl-k">-</span><span class="pl-c1">90.0f</span>);
        <span class="pl-smi">MDSimplePlugin</span> plugin <span class="pl-k">=</span> <span class="pl-smi">MDSimplePlugin</span><span class="pl-k">.</span>builder()
                .size(<span class="pl-c1">4f</span>,<span class="pl-c1">4f</span>)
                .provider(<span class="pl-k">new</span> <span class="pl-smi">MDVRLibrary</span>.<span class="pl-smi">IBitmapProvider</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onProvideBitmap</span>(<span class="pl-smi">MD360BitmapTexture</span>.<span class="pl-smi">Callback</span> <span class="pl-v">callback</span>) {
                        <span class="pl-smi">Bitmap</span> bitmap <span class="pl-k">=</span> <span class="pl-smi">BitmapFactory</span><span class="pl-k">.</span>decodeResource(getResources(), <span class="pl-smi">R</span><span class="pl-k">.</span>drawable<span class="pl-k">.</span>moredoo_logo);
                        callback<span class="pl-k">.</span>texture(bitmap);
                    }
                })
                .title(<span class="pl-s"><span class="pl-pds">"</span>logo<span class="pl-pds">"</span></span>)
                .position(logoPosition)
                .listenClick(<span class="pl-k">new</span> <span class="pl-smi">MDVRLibrary</span>.<span class="pl-smi">IPickListener</span>() {
                    <span class="pl-k">@Override</span>
                    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onHotspotHit</span>(<span class="pl-smi">IMDHotspot</span> <span class="pl-v">hotspot</span>, <span class="pl-k">long</span> <span class="pl-v">hitTimestamp</span>) {
                        <span class="pl-smi">Toast</span><span class="pl-k">.</span>makeText(<span class="pl-smi">MD360PlayerActivity</span><span class="pl-k">.</span><span class="pl-v">this</span>, <span class="pl-s"><span class="pl-pds">"</span>click logo<span class="pl-pds">"</span></span>, <span class="pl-smi">Toast</span><span class="pl-c1"><span class="pl-k">.</span>LENGTH_SHORT</span>)<span class="pl-k">.</span>show();
                    }
                })
                .build();

        plugins<span class="pl-k">.</span>add(plugin);
        getVRLibrary()<span class="pl-k">.</span>addPlugin(plugin);
        <span class="pl-smi">Toast</span><span class="pl-k">.</span>makeText(<span class="pl-smi">MD360PlayerActivity</span><span class="pl-k">.</span><span class="pl-v">this</span>, <span class="pl-s"><span class="pl-pds">"</span>add plugin logo<span class="pl-pds">"</span></span> , <span class="pl-smi">Toast</span><span class="pl-c1"><span class="pl-k">.</span>LENGTH_SHORT</span>)<span class="pl-k">.</span>show();
    }
});</pre></div>

<ul>
<li>eye picker</li>
</ul>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// setEyePickChangedListener dynamicly.</span>
<span class="pl-k">final</span> <span class="pl-smi">TextView</span> hotspotText <span class="pl-k">=</span> (<span class="pl-smi">TextView</span>) findViewById(<span class="pl-smi">R</span><span class="pl-k">.</span>id<span class="pl-k">.</span>hotspot_text);
getVRLibrary()<span class="pl-k">.</span>setEyePickChangedListener(<span class="pl-k">new</span> <span class="pl-smi">MDVRLibrary</span>.<span class="pl-smi">IPickListener</span>() {
    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onHotspotHit</span>(<span class="pl-smi">IMDHotspot</span> <span class="pl-v">hotspot</span>, <span class="pl-k">long</span> <span class="pl-v">hitTimestamp</span>) {
        <span class="pl-smi">String</span> text <span class="pl-k">=</span> hotspot <span class="pl-k">==</span> <span class="pl-c1">null</span> <span class="pl-k">?</span> <span class="pl-s"><span class="pl-pds">"</span>nop<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-smi">String</span><span class="pl-k">.</span>format(<span class="pl-smi">Locale</span><span class="pl-c1"><span class="pl-k">.</span>CHINESE</span>, <span class="pl-s"><span class="pl-pds">"</span>%s  %fs<span class="pl-pds">"</span></span>, hotspot<span class="pl-k">.</span>getTitle(), (<span class="pl-smi">System</span><span class="pl-k">.</span>currentTimeMillis() <span class="pl-k">-</span> hitTimestamp) <span class="pl-k">/</span> <span class="pl-c1">1000.0f</span> );
        hotspotText<span class="pl-k">.</span>setText(text);
    }
});</pre></div>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// disable the eye picker</span>
getVRLibrary()<span class="pl-k">.</span>eyePickEanbled(<span class="pl-c1">false</span>);</pre></div>

<p><strong>1.5.3</strong></p>

<ul>
<li>Keep the GLContext instance onPause.</li>
<li>GLTextureView supported!</li>
</ul>

<p><strong>1.5.0</strong></p>

<ul>
<li>make the switch mode public. <code>switchInteractiveMode(Activity activity, int mode)</code> , <code>switchDisplayMode(Activity activity, int mode)</code> and <code>switchProjectionMode(Activity activity, int mode)</code>.</li>
<li>add dome support. </li>
<li>add stereo support.</li>
<li>add plane support.</li>
<li>switch projection in runtime support.</li>
</ul>

<p><strong>1.4.0</strong></p>

<ul>
<li>better way to render multi screen. note:<em>Only one GLSurfaceView required now</em> !!</li>
<li>
<code>.build(R.id.surface_view1,R.id.surface_view2)</code> =&gt; <code>.build(R.id.surface_view)</code>
</li>
<li>add motion with touch strategy.</li>
</ul>

<p><strong>1.3.0</strong></p>

<ul>
<li>add some reset function, such as <code>MDVRLibrary#resetPinch</code>,<code>MDVRLibrary#resetTouch</code>
</li>
<li>support sensor delay configuration in motion mode</li>
<li>support sensorCallback</li>
<li>fix a crucial bug: has an line in the center of the sphere</li>
</ul>

<p><strong>1.2.0</strong></p>

<ul>
<li>pinch gesture supported</li>
<li>changed the way to listen onClick event</li>
<li>fix the image distortion on the polar of sphere</li>
</ul>

<p><strong>1.1.0</strong></p>

<ul>
<li>Bitmap supported. For more info, See <a href="https://github.com/ashqal/MD360Player4Android/tree/master/app/src/main/java/com/asha/md360player4android/BitmapPlayerActivity.java">BitmapPlayerActivity</a> in demo.</li>
<li>Add callback if the TYPE_ROTATION_VECTOR is NOT supported.</li>
<li>Use more divisions in sphere and load <code>.obj</code> file in working thread.</li>
<li>Bug fix: Can not drag after setOnClickListener.</li>
<li>Switch to <a href="https://github.com/Bilibili/ijkplayer">IjkMediaPlayer</a> in demo.</li>
</ul>

<p><strong>1.0.0</strong></p>

<ul>
<li>Motion Sensor</li>
<li>Glass Mode(multi-screen)</li>
<li>Fix a few bugs.</li>
<li>More easier.</li>
<li>Worked with MediaPlayer or ijkMediaPlayer.</li>
</ul>

<h2>
<a id="gradle" class="anchor" href="#gradle" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Gradle</h2>

<div class="highlight highlight-source-java"><pre>allprojects {
    repositories {
        <span class="pl-c1">...</span>
        maven { url <span class="pl-s"><span class="pl-pds">"</span>https://jitpack.io<span class="pl-pds">"</span></span> }
    }
}</pre></div>

<div class="highlight highlight-source-java"><pre>dependencies {
    compile <span class="pl-s"><span class="pl-pds">'</span>com.github.ashqal:MD360Player4Android:1.5.3<span class="pl-pds">'</span></span>
}</pre></div>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>USAGE</h2>

<h3>
<a id="using-with-glsurfaceview" class="anchor" href="#using-with-glsurfaceview" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Using with GLSurfaceView</h3>

<p><strong>STEP1</strong> Define <code>GLSurfaceView</code> in the layout xml.</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">&lt;</span><span class="pl-smi">android.opengl<span class="pl-k">.</span>GLSurfaceView</span>
   android<span class="pl-k">:</span>id<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>@+id/surface_view<span class="pl-pds">"</span></span>
   android<span class="pl-k">:</span>layout_width<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>match_parent<span class="pl-pds">"</span></span>
   android<span class="pl-k">:</span>layout_height<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>match_parent<span class="pl-pds">"</span></span> <span class="pl-k">/</span><span class="pl-k">&gt;</span></pre></div>

<p><strong>STEP2</strong> Init the <code>MDVRLibrary</code> in the Activity.</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">MDVRLibraryDemoActivity</span> <span class="pl-k">extends</span> <span class="pl-e">MediaPlayerActivity</span> {

    <span class="pl-k">private</span> <span class="pl-smi">MDVRLibrary</span> mVRLibrary;

    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onCreate</span>(<span class="pl-smi">Bundle</span> <span class="pl-v">savedInstanceState</span>) {
        <span class="pl-v">super</span><span class="pl-k">.</span>onCreate(savedInstanceState);
        setContentView(<span class="pl-smi">R</span><span class="pl-k">.</span>layout<span class="pl-k">.</span>activity_md_render);

        <span class="pl-c">// init VR Library</span>
        initVRLibrary();
    }

    <span class="pl-k">private</span> <span class="pl-k">void</span> <span class="pl-en">initVRLibrary</span>(){
        <span class="pl-c">// new instance</span>
        mVRLibrary <span class="pl-k">=</span> <span class="pl-smi">MDVRLibrary</span><span class="pl-k">.</span>with(<span class="pl-v">this</span>)
                    .displayMode(<span class="pl-smi">MDVRLibrary</span><span class="pl-c1"><span class="pl-k">.</span>DISPLAY_MODE_NORMAL</span>)
                    .interactiveMode(<span class="pl-smi">MDVRLibrary</span><span class="pl-c1"><span class="pl-k">.</span>INTERACTIVE_MODE_MOTION</span>)
                    .video(<span class="pl-k">new</span> <span class="pl-smi">MDVRLibrary</span>.<span class="pl-smi">IOnSurfaceReadyCallback</span>() {
                        <span class="pl-k">@Override</span>
                        <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onSurfaceReady</span>(<span class="pl-smi">Surface</span> <span class="pl-v">surface</span>) {
                            <span class="pl-c">// IjkMediaPlayer or MediaPlayer</span>
                            getPlayer()<span class="pl-k">.</span>setSurface(surface);
                        }
                    })
                    .build(<span class="pl-smi">R</span><span class="pl-k">.</span>id<span class="pl-k">.</span>surface_view);
    }
}</pre></div>

<p><strong>STEP3</strong> Addition call in <code>onTouchEvent</code> <code>onResume</code> <code>onPause</code> <code>onDestroy</code>.</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">MDVRLibraryDemoActivity</span> <span class="pl-k">extends</span> <span class="pl-e">MediaPlayerActivity</span> {
    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-k">boolean</span> <span class="pl-en">onTouchEvent</span>(<span class="pl-smi">MotionEvent</span> <span class="pl-v">event</span>) {
        <span class="pl-k">return</span> mVRLibrary<span class="pl-k">.</span>handleTouchEvent(event) <span class="pl-k">||</span> <span class="pl-v">super</span><span class="pl-k">.</span>onTouchEvent(event);
    }

    <span class="pl-k">@Override</span>
    <span class="pl-k">protected</span> <span class="pl-k">void</span> <span class="pl-en">onResume</span>() {
        <span class="pl-v">super</span><span class="pl-k">.</span>onResume();
        mVRLibrary<span class="pl-k">.</span>onResume(<span class="pl-v">this</span>);
    }

    <span class="pl-k">@Override</span>
    <span class="pl-k">protected</span> <span class="pl-k">void</span> <span class="pl-en">onPause</span>() {
        <span class="pl-v">super</span><span class="pl-k">.</span>onPause();
        mVRLibrary<span class="pl-k">.</span>onPause(<span class="pl-v">this</span>);
    }

    <span class="pl-k">@Override</span>
    <span class="pl-k">protected</span> <span class="pl-k">void</span> <span class="pl-en">onDestroy</span>() {
        <span class="pl-v">super</span><span class="pl-k">.</span>onDestroy();
        mVRLibrary<span class="pl-k">.</span>onDestroy();
    }
}</pre></div>

<h3>
<a id="click-listener" class="anchor" href="#click-listener" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Click Listener</h3>

<p><code>Builder#gesture</code></p>

<div class="highlight highlight-source-java"><pre>@<span class="pl-smi">Override</span>
<span class="pl-k">protected</span> <span class="pl-smi">MDVRLibrary</span> createVRLibrary() {
    <span class="pl-k">return</span> <span class="pl-smi">MDVRLibrary</span><span class="pl-k">.</span>with(<span class="pl-v">this</span>)
            <span class="pl-c1">.....</span>
            .gesture(<span class="pl-k">new</span> <span class="pl-smi">MDVRLibrary</span>.<span class="pl-smi">IGestureListener</span>() {
                <span class="pl-k">@Override</span>
                <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onClick</span>(<span class="pl-smi">MotionEvent</span> <span class="pl-v">e</span>) {
                    <span class="pl-smi">Toast</span><span class="pl-k">.</span>makeText(<span class="pl-smi">VideoPlayerActivity</span><span class="pl-k">.</span><span class="pl-v">this</span>, <span class="pl-s"><span class="pl-pds">"</span>onClick!<span class="pl-pds">"</span></span>, <span class="pl-smi">Toast</span><span class="pl-c1"><span class="pl-k">.</span>LENGTH_SHORT</span>)<span class="pl-k">.</span>show();
                }
            })
            .build(<span class="pl-smi">R</span><span class="pl-k">.</span>id<span class="pl-k">.</span>surface_view);
}
</pre></div>

<h3>
<a id="enable-the-pinch" class="anchor" href="#enable-the-pinch" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Enable the pinch</h3>

<p><code>Builder#pinchEnabled</code></p>

<div class="highlight highlight-source-java"><pre>@<span class="pl-smi">Override</span>
<span class="pl-k">protected</span> <span class="pl-smi">MDVRLibrary</span> createVRLibrary() {
    <span class="pl-k">return</span> <span class="pl-smi">MDVRLibrary</span><span class="pl-k">.</span>with(<span class="pl-v">this</span>)
            <span class="pl-c1">.....</span>
            .pinchEnabled(<span class="pl-c1">true</span>) <span class="pl-c">//disable by default</span>
            .build(<span class="pl-smi">R</span><span class="pl-k">.</span>id<span class="pl-k">.</span>surface_view);
}</pre></div>

<h3>
<a id="feature-not-support-callback" class="anchor" href="#feature-not-support-callback" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Feature not support callback</h3>

<p>add <code>ifNotSupport</code> to builder, e.g. <a href="https://github.com/ashqal/MD360Player4Android/blob/master/app/src/main/java/com/asha/md360player4android/VideoPlayerActivity.java">VideoPlayerActivity#createVRLibrary</a></p>

<div class="highlight highlight-source-java"><pre>@<span class="pl-smi">Override</span>
<span class="pl-k">protected</span> <span class="pl-smi">MDVRLibrary</span> createVRLibrary() {
    <span class="pl-k">return</span> <span class="pl-smi">MDVRLibrary</span><span class="pl-k">.</span>with(<span class="pl-v">this</span>)
            <span class="pl-c1">.....</span>
            .ifNotSupport(<span class="pl-k">new</span> <span class="pl-smi">MDVRLibrary</span>.<span class="pl-smi">INotSupportCallback</span>() {
                <span class="pl-k">@Override</span>
                <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onNotSupport</span>(<span class="pl-k">int</span> <span class="pl-v">mode</span>) {
                    <span class="pl-smi">String</span> tip <span class="pl-k">=</span> mode <span class="pl-k">==</span> <span class="pl-smi">MDVRLibrary</span><span class="pl-c1"><span class="pl-k">.</span>INTERACTIVE_MODE_MOTION</span>
                            <span class="pl-k">?</span> <span class="pl-s"><span class="pl-pds">"</span>onNotSupport:MOTION<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>onNotSupport:<span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-smi">String</span><span class="pl-k">.</span>valueOf(mode);
                    <span class="pl-smi">Toast</span><span class="pl-k">.</span>makeText(<span class="pl-smi">VideoPlayerActivity</span><span class="pl-k">.</span><span class="pl-v">this</span>, tip, <span class="pl-smi">Toast</span><span class="pl-c1"><span class="pl-k">.</span>LENGTH_SHORT</span>)<span class="pl-k">.</span>show();
                }
            })
            .build(<span class="pl-smi">R</span><span class="pl-k">.</span>id<span class="pl-k">.</span>surface_view);
}
</pre></div>

<h3>
<a id="md360director-customize-since-120" class="anchor" href="#md360director-customize-since-120" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MD360Director Customize (since 1.2.0)</h3>

<div class="highlight highlight-source-java"><pre>@<span class="pl-smi">Override</span>
<span class="pl-k">protected</span> <span class="pl-smi">MDVRLibrary</span> createVRLibrary() {
    <span class="pl-k">return</span> <span class="pl-smi">MDVRLibrary</span><span class="pl-k">.</span>with(<span class="pl-v">this</span>)
            <span class="pl-c1">...</span>
            .directorFactory(<span class="pl-k">new</span> <span class="pl-smi">DirectorFactory</span>()) <span class="pl-c">//替换默认MD360DirectorFactory</span>
            <span class="pl-c1">...</span>
            .build(<span class="pl-smi">R</span><span class="pl-k">.</span>id<span class="pl-k">.</span>surface_view);
}

<span class="pl-k">private</span> <span class="pl-k">static</span> <span class="pl-k">class</span> <span class="pl-en">DirectorFactory</span> <span class="pl-k">extends</span> <span class="pl-e">MD360DirectorFactory</span>{
    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">MD360Director</span> <span class="pl-en">createDirector</span>(<span class="pl-k">int</span> <span class="pl-v">index</span>) {
        <span class="pl-k">switch</span> (index){
            <span class="pl-c">// setAngle: angle to rotate in degrees</span>
            <span class="pl-k">case</span> <span class="pl-c1">1</span><span class="pl-k">:</span>   <span class="pl-k">return</span> <span class="pl-smi">MD360Director</span><span class="pl-k">.</span>builder()<span class="pl-k">.</span>setAngle(<span class="pl-c1">20</span>)<span class="pl-k">.</span>setEyeX(<span class="pl-k">-</span><span class="pl-c1">2.0f</span>)<span class="pl-k">.</span>setLookX(<span class="pl-k">-</span><span class="pl-c1">2.0f</span>)<span class="pl-k">.</span>build();
            <span class="pl-k">default</span><span class="pl-k">:</span>  <span class="pl-k">return</span> <span class="pl-smi">MD360Director</span><span class="pl-k">.</span>builder()<span class="pl-k">.</span>setAngle(<span class="pl-c1">20</span>)<span class="pl-k">.</span>build();
        }
    }
}</pre></div>

<h3>
<a id="motion-configuration-since-130" class="anchor" href="#motion-configuration-since-130" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Motion configuration (since 1.3.0)</h3>

<ul>
<li>support sensor delay configuration in motion mode.</li>
</ul>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">MDVRLibrary</span><span class="pl-k">.</span>with(<span class="pl-v">this</span>)
<span class="pl-c1">....</span>
.motionDelay(<span class="pl-smi">SensorManager</span><span class="pl-c1"><span class="pl-k">.</span>SENSOR_DELAY_GAME</span>)
<span class="pl-c1">...</span>
.build(<span class="pl-smi">R</span><span class="pl-k">.</span>id<span class="pl-k">.</span>surface_view);</pre></div>

<ul>
<li>support sensorCallback</li>
</ul>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">MDVRLibrary</span><span class="pl-k">.</span>with(<span class="pl-v">this</span>)
<span class="pl-c1">....</span>
.sensorCallback(<span class="pl-k">new</span> <span class="pl-smi">SensorEventListener</span>() {
    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onSensorChanged</span>(<span class="pl-smi">SensorEvent</span> <span class="pl-v">event</span>) {

    }

    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onAccuracyChanged</span>(<span class="pl-smi">Sensor</span> <span class="pl-v">sensor</span>, <span class="pl-k">int</span> <span class="pl-v">accuracy</span>) {

    }
})
<span class="pl-c1">....</span>
.build(<span class="pl-smi">R</span><span class="pl-k">.</span>id<span class="pl-k">.</span>surface_view);</pre></div>

<h3>
<a id="switch-projection-since-150" class="anchor" href="#switch-projection-since-150" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Switch projection (since 1.5.0)</h3>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// projection mode in MDVRLibrary.java</span>
<span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-k">int</span> <span class="pl-c1">PROJECTION_MODE_SPHERE</span> <span class="pl-k">=</span> <span class="pl-c1">201</span>;
<span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-k">int</span> <span class="pl-c1">PROJECTION_MODE_DOME180</span> <span class="pl-k">=</span> <span class="pl-c1">202</span>;
<span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-k">int</span> <span class="pl-c1">PROJECTION_MODE_DOME230</span> <span class="pl-k">=</span> <span class="pl-c1">203</span>;
<span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-k">int</span> <span class="pl-c1">PROJECTION_MODE_DOME180_UPPER</span> <span class="pl-k">=</span> <span class="pl-c1">204</span>;
<span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-k">int</span> <span class="pl-c1">PROJECTION_MODE_DOME230_UPPER</span> <span class="pl-k">=</span> <span class="pl-c1">205</span>;
<span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-k">int</span> <span class="pl-c1">PROJECTION_MODE_STEREO_SPHERE</span> <span class="pl-k">=</span> <span class="pl-c1">206</span>;
<span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-k">int</span> <span class="pl-c1">PROJECTION_MODE_PLANE_FIT</span> <span class="pl-k">=</span> <span class="pl-c1">207</span>;
<span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-k">int</span> <span class="pl-c1">PROJECTION_MODE_PLANE_CROP</span> <span class="pl-k">=</span> <span class="pl-c1">208</span>;
<span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-k">int</span> <span class="pl-c1">PROJECTION_MODE_PLANE_FULL</span> <span class="pl-k">=</span> <span class="pl-c1">209</span>;

<span class="pl-c">// You should call MDVRLibrary#onTextureResize(float width, float height)</span>
<span class="pl-c">// If you are using DOME projection and PLANE projection.</span>

@<span class="pl-smi">Override</span>
<span class="pl-k">protected</span> <span class="pl-smi">MDVRLibrary</span> createVRLibrary() {
    <span class="pl-k">return</span> <span class="pl-smi">MDVRLibrary</span><span class="pl-k">.</span>with(<span class="pl-v">this</span>)
            <span class="pl-c1">...</span>
            .projectionMode(<span class="pl-smi">MDVRLibrary</span><span class="pl-c1"><span class="pl-k">.</span>PROJECTION_MODE_STEREO_SPHERE</span>)
            <span class="pl-c1">...</span>
            .build(<span class="pl-smi">R</span><span class="pl-k">.</span>id<span class="pl-k">.</span>surface_view);
}

<span class="pl-c">// switch in runtime</span>
<span class="pl-c">// MDVRLibrary#switchProjectionMode(Activity activity, int mode)</span></pre></div>

<h2>
<a id="reference" class="anchor" href="#reference" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Reference</h2>

<ul>
<li><a href="https://github.com/hanton/HTY360Player">HTY360Player(360 VR Player for iOS)</a></li>
<li><a href="https://github.com/Nitro888/NitroAction360">NitroAction360(VR player for Android)</a></li>
<li><a href="https://github.com/learnopengles/Learn-OpenGLES-Tutorials">Learn-OpenGLES-Tutorials</a></li>
<li><a href="http://tangzm.com/blog/?p=20">ANDROID高性能图形处理之二.OPENGL ES</a></li>
<li><a href="http://www.moredoo.com/">Moredoo.com</a></li>
</ul>

<h2>
<a id="ios-version" class="anchor" href="#ios-version" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>iOS Version</h2>

<p><a href="https://github.com/ashqal/MD360Player4iOS">MD360Player4iOS</a></p>

<h2>
<a id="feedback" class="anchor" href="#feedback" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Feedback</h2>

<ul>
<li>Open a new issue.</li>
<li>or <a href="mailto:ashqalcn@gmail.com">ashqalcn@gmail.com</a>
</li>
<li>or QQ Group.<br>
<img src="https://cloud.githubusercontent.com/assets/5126517/16213934/e398b010-3785-11e6-8877-5d88d9dc3f33.jpeg" alt="QQ Group">
</li>
</ul>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LICENSE</h2>

<pre><code>Copyright 2016 Asha

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
</code></pre>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">MD360Player4Android maintained by <a href="https://github.com/ashqal">ashqal</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
